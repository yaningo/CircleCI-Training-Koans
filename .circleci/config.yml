version: 2.1

parameters:
  foo:
    type: boolean
    default: true
  bar:
    type: boolean
    default: false

jobs:
  codecoverage:
    docker:
      - image: circleci/base
    steps:
      - run:
          command: echo codecoverage
  binary-size:
    docker:
      - image: circleci/base
    steps:
      - run:
          command: echo binary-size

workflows:
  version: 2
    when:
      - << pipeline.parameters.foo >>
      - << pipeline.parameters.bar >>
    jobs:
      - codecoverage
      - binary-size

    when: << pipeline.parameters.foo >>
    jobs:
      - codecoverage
      - binary-size